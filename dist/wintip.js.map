{"version":3,"file":"wintip.js","sources":["../src/wintip.js"],"sourcesContent":["function query(selector) {\r\n  return document.querySelectorAll(selector)\r\n}\r\n\r\nfunction likeNumber(value) {\r\n  return !isNaN(Number(value))\r\n}\r\n\r\nfunction isElement(ele) {\r\n  return typeof ele === 'object' && ele.nodeType === 1\r\n}\r\n\r\nfunction append(ele, html) {\r\n  if (isElement(ele)) {\r\n    ele.insertAdjacentHTML('beforeend', html)\r\n  } else {\r\n    query(ele)[0].insertAdjacentHTML('beforeend', html)\r\n  }\r\n}\r\n\r\nconst settings = {\r\n  output: true,\r\n  opacity: 0.75\r\n}\r\n\r\nfunction winTip(msg) {\r\n  const idNo = query('._win_tip').length + 1\r\n  const idStr = `_tip_${idNo}`\r\n  const tip = query(`.${idStr}`)\r\n  const tipBox = query('._win_tip_box')\r\n\r\n  if (!settings.output) return\r\n\r\n  const tipHtml = `<span class=\"_win_tip ${idStr}\" style=\"display: inline-block;min-width: 80px;padding: 8px;margin-bottom: 1px;background-color: rgba(0, 0, 0, ${settings.opacity});\">${msg}</span><br>`\r\n\r\n  const tipBoxHtml = `<div class=\"_win_tip_box\" style=\"position: fixed;top: 0;left: 0;max-height: 75%;word-break: break-all;max-width: 55%;color: #fff;font-size: 12px;z-index: 100;overflow: auto;-webkit-overflow-scrolling: touch;\">${tipHtml}</div>`\r\n\r\n  if (tip.length) {\r\n    tip[0].textContent = msg\r\n  } else if (tipBox.length) {\r\n    append(tipBox[0], tipHtml)\r\n  } else {\r\n    append('body', tipBoxHtml)\r\n  }\r\n\r\n  return tip\r\n}\r\n\r\nwinTip.remove = tip => {\r\n  const node = isElement(tip) ? tip : query(`._tip_${tip}`)[0]\r\n  if (node) {\r\n    node.nextElementSibling.remove()\r\n    node.remove()\r\n  }\r\n}\r\n\r\nwinTip.config = options => {\r\n  Object.assign(settings, options)\r\n}\r\n\r\nwinTip.$ = name => {\r\n  const idNo = query('._win_tip').length + 1\r\n  const tip = query(`._tip_${name}`)\r\n  const tipBox = query('._win_tip_box')\r\n\r\n  if (likeNumber(name) && !tip.length) {\r\n    return alert(`wintip: ${name} is not defined`)\r\n  }\r\n\r\n  return function(msg) {\r\n    const idStr =\r\n      likeNumber(name) || typeof name === 'undefined'\r\n        ? `_tip_${idNo}`\r\n        : `_tip_${idNo} _tip_${name}`\r\n\r\n    const tipHtml = `<span class=\"_win_tip ${idStr}\" style=\"display: inline-block;min-width: 80px;padding: 8px;margin-bottom: 1px;background-color: rgba(0, 0, 0, ${settings.opacity});\">${msg}</span><br>`\r\n\r\n    const tipBoxHtml = `<div class=\"_win_tip_box\" style=\"position: fixed;top: 0;left: 0;max-height: 75%;word-break: break-all;max-width: 55%;color: #fff;font-size: 12px;z-index: 100;overflow: auto;-webkit-overflow-scrolling: touch;\">${tipHtml}</div>`\r\n\r\n    if (tip.length) {\r\n      tip[0].textContent = msg\r\n    } else if (tipBox.length) {\r\n      append(tipBox[0], tipHtml)\r\n    } else {\r\n      append('body', tipBoxHtml)\r\n    }\r\n\r\n    return tip\r\n  }\r\n}\r\n\r\nexport default winTip\r\n"],"names":["const"],"mappings":"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"}